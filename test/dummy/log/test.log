  [1m[36m (1.4ms)[0m  [1mCREATE TABLE "restaurants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.6ms)[0m  CREATE TABLE "reviews" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "body" varchar, "restaurant_id" integer, "restaurant_name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.7ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.5ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160607172940')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mRestaurant Load (0.4ms)[0m  [1mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."name" = ?[0m  [["name", "McDonald's"]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mRestaurant Load (0.1ms)[0m  [1mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."name" = ?[0m  [["name", "McDonald's"]]
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "reviews" ("title", "body", "restaurant_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["title", "Great!"], ["body", "This place is amazing!"], ["restaurant_name", "McDonald's"], ["created_at", "2016-06-07 20:26:02.982249"], ["updated_at", "2016-06-07 20:26:02.982249"]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mRestaurant Load (0.1ms)[0m  [1mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."name" = ?[0m  [["name", "McDonald's"]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "reviews" ("title", "body", "restaurant_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["title", "Great!"], ["body", "This place is amazing!"], ["restaurant_name", "McDonald's"], ["created_at", "2016-06-07 20:26:24.883242"], ["updated_at", "2016-06-07 20:26:24.883242"]]
  [1m[36m (0.4ms)[0m  [1mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "restaurants"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "restaurants" ("id", "name", "created_at", "updated_at") VALUES (1, 'Unknown', '2016-06-07 20:29:39', '2016-06-07 20:29:39')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "restaurants" ("name", "created_at", "updated_at", "id") VALUES ('McDonald''s', '2016-06-07 20:29:39', '2016-06-07 20:29:39', 994122822)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "restaurants" ("name", "created_at", "updated_at", "id") VALUES ('Burger King', '2016-06-07 20:29:39', '2016-06-07 20:29:39', 208839437)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "restaurants" ("name", "created_at", "updated_at", "id") VALUES ('Subway', '2016-06-07 20:29:39', '2016-06-07 20:29:39', 417882962)[0m
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
DomainMappedAttributeTest: test_that_it_has_a_version_number
------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------
DomainMappedAttributeTest: test_creating_record_can_find_mapping
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mRestaurant Load (0.1ms)[0m  [1mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."name" = ?[0m  [["name", "McDonald's"]]
  [1m[35mRestaurant Load (0.1ms)[0m  SELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT 1  [["id", 994122822]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "reviews" ("title", "body", "restaurant_name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Great!"], ["body", "This place is amazing!"], ["restaurant_name", "McDonald's"], ["restaurant_id", 994122822], ["created_at", "2016-06-07 20:29:39.446333"], ["updated_at", "2016-06-07 20:29:39.446333"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRestaurant Load (0.0ms)[0m  [1mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT 1[0m  [["id", 994122822]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "restaurants"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "restaurants" ("id", "name", "created_at", "updated_at") VALUES (1, 'Unknown', '2016-06-07 20:34:14', '2016-06-07 20:34:14')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "restaurants" ("name", "created_at", "updated_at", "id") VALUES ('McDonald''s', '2016-06-07 20:34:14', '2016-06-07 20:34:14', 994122822)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "restaurants" ("name", "created_at", "updated_at", "id") VALUES ('Burger King', '2016-06-07 20:34:14', '2016-06-07 20:34:14', 208839437)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "restaurants" ("name", "created_at", "updated_at", "id") VALUES ('Subway', '2016-06-07 20:34:14', '2016-06-07 20:34:14', 417882962)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "reviews"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "reviews" ("title", "body", "restaurant_name", "created_at", "updated_at", "id", "restaurant_id") VALUES ('This is a mapped review', 'Blah Blah', 'Some string', '2016-06-07 20:34:14', '2016-06-07 20:34:14', 949117623, 208839437)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "reviews" ("title", "body", "created_at", "updated_at", "id", "restaurant_id") VALUES ('This is another mapped review', 'Foo foo', '2016-06-07 20:34:14', '2016-06-07 20:34:14', 45041766, 208839437)
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------------------------------------
DomainMappedAttributeTest: test_mapped_record_should_return_the_user_input_if_present
-------------------------------------------------------------------------------------
  [1m[36mReview Load (0.1ms)[0m  [1mSELECT  "reviews".* FROM "reviews" WHERE "reviews"."id" = ? LIMIT 1[0m  [["id", 949117623]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------------------------
DomainMappedAttributeTest: test_mapped_record_should_return_domain_value_if_user_input_is_missing
-------------------------------------------------------------------------------------------------
  [1m[35mReview Load (0.1ms)[0m  SELECT  "reviews".* FROM "reviews" WHERE "reviews"."id" = ? LIMIT 1  [["id", 45041766]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------------------
DomainMappedAttributeTest: test_creating_record_can_find_mapping
----------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mRestaurant Load (0.1ms)[0m  SELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."name" = ?  [["name", "McDonald's"]]
  [1m[36mRestaurant Load (0.1ms)[0m  [1mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT 1[0m  [["id", 994122822]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "reviews" ("title", "body", "restaurant_name", "restaurant_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["title", "Great!"], ["body", "This place is amazing!"], ["restaurant_name", "McDonald's"], ["restaurant_id", 994122822], ["created_at", "2016-06-07 20:34:14.573307"], ["updated_at", "2016-06-07 20:34:14.573307"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRestaurant Load (0.1ms)[0m  SELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT 1  [["id", 994122822]]
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
DomainMappedAttributeTest: test_that_it_has_a_version_number
------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
